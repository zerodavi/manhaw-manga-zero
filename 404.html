<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz com Cadastro Simplificado</title>
<style>
/* --- CSS Profissional do Quiz --- */
:root {
  --primary: #0ea5a4;
  --primary-dark: #0b7271;
  --bg: #f4f6fb;
  --card-bg: #ffffff;
  --text: #0b1220;
  --correct: #16a34a;
  --wrong: #dc2626;
  --accent: #2563eb;
}

* { box-sizing: border-box; margin:0; padding:0; }
body { font-family: 'Segoe UI', sans-serif; background-color: var(--bg); color: var(--text); padding:20px; }
h1,h2 { text-align:center; margin-bottom:20px; }
h1 { font-size:2rem; color: var(--primary); }
h2 { font-size:1.5rem; color: var(--text); }

button { display:block; width:100%; padding:12px; margin:8px 0; font-size:16px; border:none; border-radius:10px; cursor:pointer; transition:0.3s; background-color: var(--primary); color:#fff; }
button:hover { background-color: var(--primary-dark); }
button.correct { background-color: var(--correct); }
button.wrong { background-color: var(--wrong); }
button#nextBtn { background-color: var(--accent); }
button#nextBtn:hover { background-color:#1e40af; }
#restart { width:50%; margin:20px auto; background-color: var(--accent); font-weight:bold; }
#restart:hover { background-color:#1e40af; }

.hidden { display:none; }
#score { text-align:center; font-weight:bold; margin-top:15px; font-size:1.1rem; }

input { width:100%; padding:10px; margin:5px 0; border-radius:8px; border:1px solid #ccc; }

@media(max-width:480px){ body{padding:10px;} h1{font-size:1.5rem;} h2{font-size:1.2rem;} button{font-size:14px; padding:10px;} }
</style>
</head>
<body>

<h1>Quiz com Cadastro</h1>

<div id="registerDiv">
  <h2>Cadastre-se para jogar:</h2>
  <input type="text" id="username" placeholder="Nome">
  <input type="password" id="password" placeholder="Senha">
  <button onclick="registerUser()">Cadastrar</button>
  <p>Já cadastrado? <button onclick="loginShow()">Login</button></p>
</div>

<div id="loginDiv" class="hidden">
  <h2>Login:</h2>
  <input type="text" id="loginUsername" placeholder="Nome">
  <input type="password" id="loginPassword" placeholder="Senha">
  <button onclick="loginUser()">Entrar</button>
  <p>Ainda não tem cadastro? <button onclick="registerShow()">Cadastrar</button></p>
</div>

<div id="categories" class="hidden">
  <h2>Escolha uma categoria:</h2>
  <button onclick="startQuiz('geral')">Geral</button>
  <button onclick="startQuiz('historia')">História</button>
  <button onclick="startQuiz('ciencia')">Ciência</button>
  <button onclick="startQuiz('geografia')">Geografia</button>
</div>

<div id="quiz" class="hidden">
  <h2 id="question"></h2>
  <div id="answers"></div>
  <p id="score"></p>
  <button onclick="nextQuestion()" id="nextBtn" class="hidden">Próxima</button>
</div>

<button id="restart" class="hidden" onclick="restartQuiz()">Reiniciar Quiz</button>

<script>
// --- JS Cadastro Simplificado ---
function registerShow(){ document.getElementById('registerDiv').classList.remove('hidden'); document.getElementById('loginDiv').classList.add('hidden'); }
function loginShow(){ document.getElementById('registerDiv').classList.add('hidden'); document.getElementById('loginDiv').classList.remove('hidden'); }

function registerUser(){
  const username = document.getElementById('username').value.trim();
  const password = document.getElementById('password').value.trim();
  if(!username || !password){ alert("Preencha todos os campos"); return; }

  const users = JSON.parse(localStorage.getItem('users') || '[]');
  if(users.some(u=>u.username===username)){ alert("Nome já cadastrado"); return; }

  users.push({username,password});
  localStorage.setItem('users', JSON.stringify(users));
  alert("Cadastro realizado com sucesso!");
  loginShow();
}

function loginUser(){
  const username = document.getElementById('loginUsername').value.trim();
  const password = document.getElementById('loginPassword').value.trim();
  const users = JSON.parse(localStorage.getItem('users') || '[]');
  const user = users.find(u=>u.username===username && u.password===password);
  if(user){ 
    localStorage.setItem('currentUser', JSON.stringify(user));
    alert(`Bem-vindo ${user.username}!`);
    document.getElementById('loginDiv').classList.add('hidden');
    document.getElementById('categories').classList.remove('hidden');
  } else { alert("Nome ou senha inválidos"); }
}

// --- JS Quiz ---
const quizData = {
  geral:[
    {q:"Qual é a capital do Brasil?",a:["Brasília","Rio","São Paulo","Salvador"],c:0},
    {q:"2 + 2 é?",a:["3","4","5","6"],c:1},
    {q:"Qual é o maior animal terrestre?",a:["Elefante","Girafa","Rinoceronte","Hipopótamo"],c:0},
    {q:"Quem escreveu 'Dom Casmurro'?",a:["Machado de Assis","José de Alencar","Cecília Meireles","Carlos Drummond"],c:0},
    {q:"Qual é a língua mais falada no mundo?",a:["Inglês","Mandarim","Espanhol","Hindi"],c:1},
    {q:"Quantos continentes existem?",a:["5","6","7","8"],c:2},
    {q:"Qual é a cor da esmeralda?",a:["Vermelha","Verde","Azul","Amarela"],c:1},
    {q:"Qual fruta é conhecida como 'banana da terra'?",a:["Banana","Plátano","Manga","Abacate"],c:1},
    {q:"O que é H2O?",a:["Água","Oxigênio","Peróxido","Dióxido de Carbono"],c:0},
    {q:"Qual planeta é conhecido como 'Planeta Vermelho'?",a:["Marte","Vênus","Júpiter","Mercúrio"],c:0},
  ],
  historia:[
    {q:"Quem descobriu o Brasil?",a:["Pedro Álvares Cabral","Cristóvão Colombo","Vasco da Gama","Fernão de Magalhães"],c:0},
    {q:"Quando começou a Segunda Guerra Mundial?",a:["1914","1939","1945","1929"],c:1},
    {q:"Quem foi o primeiro presidente do Brasil?",a:["Getúlio Vargas","Deodoro da Fonseca","Juscelino Kubitschek","Tancredo Neves"],c:1},
    {q:"Qual civilização construiu as pirâmides do Egito?",a:["Romanos","Egípcios","Maias","Gregos"],c:1},
    {q:"Em que ano caiu o Muro de Berlim?",a:["1985","1989","1991","1979"],c:1},
    {q:"Quem foi Napoleão Bonaparte?",a:["Rei da França","General Francês","Imperador do Brasil","Explorador"],c:1},
    {q:"Qual guerra terminou em 1945?",a:["Primeira Guerra Mundial","Segunda Guerra Mundial","Guerra Fria","Guerra do Vietnã"],c:1},
    {q:"O que foi a Revolução Industrial?",a:["Transformação tecnológica","Guerra","Movimento cultural","Descobrimento de terras"],c:0},
    {q:"Quem pintou a Mona Lisa?",a:["Van Gogh","Leonardo da Vinci","Picasso","Michelangelo"],c:1},
    {q:"O Império Romano caiu em que ano?",a:["476 d.C.","410 d.C.","500 d.C.","395 d.C."],c:0},
  ],
  ciencia:[
    {q:"Qual é o planeta mais próximo do Sol?",a:["Terra","Mercúrio","Marte","Vênus"],c:1},
    {q:"Qual elemento químico tem símbolo O?",a:["Ouro","Oxigênio","Ozônio","Ônix"],c:1},
    {q:"Qual é a velocidade da luz?",a:["300.000 km/s","150.000 km/s","1.000 km/s","30.000 km/s"],c:0},
    {q:"Quem formulou a Teoria da Relatividade?",a:["Newton","Einstein","Galileu","Curie"],c:1},
    {q:"Qual órgão filtra o sangue no corpo humano?",a:["Coração","Rim","Fígado","Pulmão"],c:1},
    {q:"Qual é o maior planeta do sistema solar?",a:["Júpiter","Saturno","Terra","Marte"],c:0},
    {q:"A água ferve a quantos graus Celsius?",a:["90°C","100°C","120°C","80°C"],c:1},
    {q:"Qual gás é essencial para respirarmos?",a:["Nitrogênio","Oxigênio","Hélio","Dióxido de Carbono"],c:1},
    {q:"O que é fotossíntese?",a:["Respiração das plantas","Produção de energia pela luz","Evaporação","Decomposição"],c:1},
    {q:"Qual é o metal mais leve?",a:["Ouro","Alumínio","Lítio","Prata"],c:2},
  ],
  geografia:[
    {q:"Qual é o maior oceano do mundo?",a:["Atlântico","Pacífico","Índico","Ártico"],c:1},
    {q:"Qual é o país mais populoso?",a:["Índia","China","EUA","Brasil"],c:1},
    {q:"Qual é o ponto mais alto do mundo?",a:["Everest","K2","Mont Blanc","Annapurna"],c:0},
    {q:"Qual é o rio mais longo?",a:["Nilo","Amazonas","Yangtzé","Mississipi"],c:1},
    {q:"Qual deserto é o maior do mundo?",a:["Sahara","Gobi","Kalahari","Atacama"],c:0},
    {q:"Qual país tem mais ilhas?",a:["Suécia","Indonésia","Filipinas","Noruega"],c:0},
    {q:"Qual continente tem mais países?",a:["África","Europa","América","Ásia"],c:0},
    {q:"Qual cidade é conhecida como 'Cidade Luz'?",a:["Paris","Londres","Nova York","Tóquio"],c:0},
    {q:"Qual é a capital da Austrália?",a:["Sydney","Melbourne","Canberra","Perth"],c:2},
    {q:"Qual país tem a maior extensão territorial?",a:["Rússia","Canadá","China","Brasil"],c:0},
  ]
};

let currentCategory=''; let currentIndex=0; let score=0;

function startQuiz(category){
  currentCategory=category; currentIndex=0; score=0;
  document.getElementById('categories').classList.add('hidden');
  document.getElementById('quiz').classList.remove('hidden');
  document.getElementById('restart').classList.add('hidden');
  showQuestion();
}

function showQuestion(){
  const q = quizData[currentCategory][currentIndex];
  document.getElementById('question').textContent = q.q;
  const answersDiv = document.getElementById('answers');
  answersDiv.innerHTML='';
  q.a.forEach((ans,i)=>{
    const btn = document.createElement('button');
    btn.textContent=ans;
    btn.onclick=()=>checkAnswer(i);
    answersDiv.appendChild(btn);
  });
  document.getElementById('score').textContent=`Pontuação: ${score}`;
  document.getElementById('nextBtn').classList.add('hidden');
}

function checkAnswer(selected){
  const q=quizData[currentCategory][currentIndex];
  const buttons=document.querySelectorAll('#answers button');
  buttons.forEach((btn,i)=>{
    btn.disabled=true;
    if(i===q.c) btn.classList.add('correct');
    if(i===selected && i!==q.c) btn.classList.add('wrong');
  });
  if(selected===q.c) score++;
  document.getElementById('score').textContent=`Pontuação: ${score}`;
  document.getElementById('nextBtn').classList.remove('hidden');
}

function nextQuestion(){
  currentIndex++;
  if(currentIndex < quizData[currentCategory].length){
    showQuestion();
  }else{
    const user = JSON.parse(localStorage.getItem('currentUser'));
    document.getElementById('question').textContent=`Quiz finalizado, ${user.username}!`;
    document.getElementById('answers').innerHTML='';
    document.getElementById('score').textContent=`Pontuação final: ${score}/${quizData[currentCategory].length}`;
    document.getElementById('nextBtn').classList.add('hidden');
    document.getElementById('restart').classList.remove('hidden');
  }
}

function restartQuiz(){
  document.getElementById('categories').classList.remove('hidden');
  document.getElementById('quiz').classList.add('hidden');
  document.getElementById('restart').classList.add('hidden');
}
</script>

</body>
</html>
